---
services:
  default:
    # NOTE: --force-unlink will NOT verify if another copy of inception is running.
    # FIXME: Remove --force-unlink. This is a hacky, temporary workaround for reliability.
    command: 'common/launcher.sh ../../build/inception-linux-x86_64-testing/bin/inception --dpdk-test-mode --log-level debug --force-unlink --dpdk="-m256m,--no-huge" --dpdk-port-ids="port0=0, port1=1" -p 9000 > inception.log 2>&1'
    base_url: http://127.0.0.1:9000
    init_url: http://127.0.0.1:9000/version
    init_timeout: 15s

  #Test config file support for interfaces
  interface-config-file:
    # NOTE: --force-unlink will NOT verify if another copy of inception is running.
    # FIXME: Remove --force-unlink. This is a hacky, temporary workaround for reliability.
    command: 'common/launcher.sh ../../build/inception-linux-x86_64-testing/bin/inception -c spec/test_interface.yaml --dpdk-test-mode --log-level debug --force-unlink --dpdk="-m256m,--no-huge" --dpdk-port-ids="port0=port0, port1=port1" -p 9000 > inception.log 2>&1'
    base_url: http://127.0.0.1:9000
    init_url: http://127.0.0.1:9000/version
    init_timeout: 15s

  #Test config file support for ports
  port-config-file:
    # NOTE: --force-unlink will NOT verify if another copy of inception is running.
    # FIXME: Remove --force-unlink. This is a hacky, temporary workaround for reliability.
    command: 'common/launcher.sh ../../build/inception-linux-x86_64-testing/bin/inception -c spec/test_port.yaml --dpdk-test-mode --log-level debug --force-unlink --dpdk="-m256m,--no-huge" --dpdk-port-ids="port0=port0, port1=port1" -p 9000 > inception.log 2>&1'
    base_url: http://127.0.0.1:9000
    init_url: http://127.0.0.1:9000/version
    init_timeout: 15s
