/**
 * swagger <-> libpacket transmogrify implementation for vlan
 *
 * This file is automatically generated by the transmogrify code generator.
 * Do not edit this file manually.
 **/

#include "vlan.hpp"

namespace openperf::packet::protocol::transmogrify {

std::shared_ptr<swagger::v1::model::PacketProtocolVlan> to_swagger(libpacket::protocol::vlan& src)
{
    auto dst = std::make_shared<swagger::v1::model::PacketProtocolVlan>();

    
    switch(auto priority_value = get_vlan_priority(src)) {
    case libpacket::protocol::vlan::priority_value::network_control:
        dst->setPriority("network_control");
        break;
    case libpacket::protocol::vlan::priority_value::internetwork_control:
        dst->setPriority("internetwork_control");
        break;
    case libpacket::protocol::vlan::priority_value::voice:
        dst->setPriority("voice");
        break;
    case libpacket::protocol::vlan::priority_value::video:
        dst->setPriority("video");
        break;
    case libpacket::protocol::vlan::priority_value::critical_app:
        dst->setPriority("critical_app");
        break;
    case libpacket::protocol::vlan::priority_value::excellent_effort:
        dst->setPriority("excellent_effort");
        break;
    case libpacket::protocol::vlan::priority_value::background:
        dst->setPriority("background");
        break;
    case libpacket::protocol::vlan::priority_value::best_effort:
        dst->setPriority("best_effort");
        break;
    }
    
    dst->setDropEligible(get_vlan_drop_eligible(src));
    dst->setId(get_vlan_id(src));
    dst->setEtherType(get_vlan_ether_type(src));

    return (dst);
}

static enum libpacket::protocol::vlan::priority_value to_vlan_priority(std::string_view value)
{
    if (value == "network_control")
    {
        return (libpacket::protocol::vlan::priority_value::network_control);
    }
    else if (value == "internetwork_control")
    {
        return (libpacket::protocol::vlan::priority_value::internetwork_control);
    }
    else if (value == "voice")
    {
        return (libpacket::protocol::vlan::priority_value::voice);
    }
    else if (value == "video")
    {
        return (libpacket::protocol::vlan::priority_value::video);
    }
    else if (value == "critical_app")
    {
        return (libpacket::protocol::vlan::priority_value::critical_app);
    }
    else if (value == "excellent_effort")
    {
        return (libpacket::protocol::vlan::priority_value::excellent_effort);
    }
    else if (value == "background")
    {
        return (libpacket::protocol::vlan::priority_value::background);
    }
    else if (value == "best_effort")
    {
        return (libpacket::protocol::vlan::priority_value::best_effort);
    }

    return (static_cast<libpacket::protocol::vlan::priority_value>(0));
}

libpacket::protocol::vlan to_protocol(const std::shared_ptr<swagger::v1::model::PacketProtocolVlan>& src)
{
    auto dst = libpacket::protocol::vlan{};

    if (src) {
        if (src->priorityIsSet())
        {
            set_vlan_priority(dst, to_vlan_priority(src->getPriority()));
        }
        if (src->dropEligibleIsSet())
        {
            set_vlan_drop_eligible(dst, src->isDropEligible());
        }
        if (src->idIsSet())
        {
            set_vlan_id(dst, src->getId());
        }
        if (src->etherTypeIsSet())
        {
            set_vlan_ether_type(dst, src->getEtherType());
        }
    }

    return (dst);
}

}
